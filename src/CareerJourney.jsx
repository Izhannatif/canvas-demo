// {/* <svg width="1566" height="1895" viewBox="0 0 1566 1895" fill="none" xmlns="http://www.w3.org/2000/svg">
// <path d="M81.2882 358.5L77.9745 362.244L81.2882 358.5ZM1193.79 504.5L1198.66 503.371L1193.79 504.5ZM846.788 1031.5L849.081 1035.94L846.788 1031.5ZM1078.29 1557.5L1077.12 1552.64L1078.29 1557.5ZM1544.19 1894.74C1546.8 1895.62 1549.64 1894.22 1550.52 1891.6L1564.95 1848.98C1565.83 1846.36 1564.43 1843.52 1561.81 1842.64C1559.2 1841.75 1556.36 1843.16 1555.47 1845.77L1542.65 1883.66L1504.76 1870.84C1502.15 1869.96 1499.31 1871.36 1498.43 1873.98C1497.54 1876.59 1498.94 1879.43 1501.56 1880.31L1544.19 1894.74ZM41.788 17.5L37.231 15.4424C24.6743 43.2525 2.9872 101.461 0.279868 166.868C-2.43176 232.38 13.9108 305.549 77.9745 362.244L81.2882 358.5L84.6018 354.756C23.4655 300.651 7.64135 230.82 10.2713 167.282C12.9056 103.639 34.0684 46.7475 46.345 19.5576L41.788 17.5ZM81.2882 358.5L77.9745 362.244C157.196 432.354 245.168 462.017 343.237 460.562C441.102 459.11 548.829 426.677 667.842 373.059L665.788 368.5L663.734 363.941C545.247 417.323 438.974 449.14 343.089 450.563C247.408 451.983 161.88 423.146 84.6018 354.756L81.2882 358.5ZM665.788 368.5L667.842 373.059C786.048 319.804 903.967 298.22 998.401 317.332C1045.55 326.874 1086.77 346.54 1119.36 377.397C1151.94 408.243 1176.14 450.501 1188.92 505.629L1193.79 504.5L1198.66 503.371C1185.49 446.574 1160.41 402.494 1126.23 370.136C1092.07 337.789 1049.06 317.382 1000.38 307.531C903.165 287.855 783.028 310.196 663.734 363.941L665.788 368.5ZM1193.79 504.5L1188.92 505.629C1218.68 634.03 1168.13 746.014 1092.03 835.351C1015.9 924.725 914.629 990.863 844.495 1027.06L846.788 1031.5L849.081 1035.94C919.921 999.385 1022.4 932.523 1099.65 841.835C1176.93 751.11 1229.4 635.97 1198.66 503.371L1193.79 504.5ZM846.788 1031.5L844.495 1027.06C657.923 1123.34 592.946 1286.27 637.729 1411.49C682.622 1537.02 836.328 1620.94 1079.46 1562.36L1078.29 1557.5L1077.12 1552.64C836.738 1610.55 689.647 1526.97 647.145 1408.12C604.531 1288.97 665.559 1130.65 849.081 1035.94L846.788 1031.5ZM1078.29 1557.5L1079.46 1562.36C1175.63 1539.19 1249.53 1542.82 1306.98 1562.29C1364.4 1581.75 1405.83 1617.18 1436.82 1658.38C1467.86 1699.63 1488.4 1746.63 1503.96 1789.09C1511.75 1810.34 1518.24 1830.32 1524.22 1847.94C1530.16 1865.45 1535.64 1880.75 1541.31 1892.22L1545.79 1890L1550.27 1887.78C1544.94 1877 1539.66 1862.31 1533.69 1844.72C1527.76 1827.25 1521.19 1807.05 1513.35 1785.65C1497.67 1742.84 1476.72 1694.78 1444.81 1652.37C1412.86 1609.9 1369.88 1573.05 1310.19 1552.82C1250.54 1532.61 1174.65 1529.14 1077.12 1552.64L1078.29 1557.5Z" fill="#323232" fill-opacity="0.3"/>
// <circle cx="39.2882" cy="17.5" r="17.5" fill="#131313"/>
// <circle cx="213.288" cy="434.5" r="17.5" fill="#131313"/>
// <circle cx="1166.29" cy="434.5" r="17.5" fill="#131313"/>
// <circle cx="1013.29" cy="915.5" r="17.5" fill="#131313"/>
// <circle cx="640.288" cy="1400.5" r="17.5" fill="#131313"/>
// <circle cx="1368.29" cy="1586.5" r="17.5" fill="#131313"/>
// </svg> 
//  */}


// // import { useEffect, useRef } from "react";
// // import gsap from "gsap";
// // import { ScrollTrigger } from "gsap/ScrollTrigger";

// // gsap.registerPlugin(ScrollTrigger);

// // export default function CareerTimeline() {

// //   const svgRef = useRef(null);
// //   const pathRef = useRef(null);
// //   const circleRefs = useRef([]);
// //   const textRefs = useRef([]);

// //   const years = [
// //     { year: "2020", text: "Started learning Web Dev." },
// //     { year: "2021", text: "Built first freelance projects." },
// //     { year: "2022", text: "Frontend specialization began." },
// //     { year: "2023", text: "Shifted into full-stack work." },
// //     { year: "2024", text: "Working with Strapi, React, R3F." },
// //     { year: "2025", text: "Current — polishing experience." }
// //   ];

// //   useEffect(() => {

// //     let path = pathRef.current;
// //     let length = path.getTotalLength();

// //     // prepare path & circles & text
// //     gsap.set(path, { strokeDasharray: length, strokeDashoffset: length });
// //     circleRefs.current.forEach(c => gsap.set(c, { scale: 0 }));
// //     textRefs.current.forEach(t => gsap.set(t, { autoAlpha: 0, y: 20 }));

// //     let tl = gsap.timeline({
// //       scrollTrigger: {
// //         trigger: svgRef.current,
// //         start: "top center",
// //         end: "bottom bottom",
// //         scrub: 1,
// //         pin: true
// //       }
// //     });

// //     // animate path drawing equally across timeline
// //     tl.to(path, { strokeDashoffset: 0, duration: 6, ease: "none" });

// //     // stop at each milestone → reveal circle + label
// //     years.forEach((_, i) => {
// //       tl.to(circleRefs.current[i], { scale: 1, duration: 0.3, ease: "back.out(1.7)" }, i + 1)
// //         .to(textRefs.current[i], { autoAlpha: 1, y: 0, duration: 0.4 }, i + 1);
// //     });

// //   }, []);

// //   return (
// //     <section className="relative min-h-[200vh] w-full bg-neutral-950 text-white flex items-center justify-center">
      
// //       {/* TEXT DISPLAYED BESIDE SCROLLING PATH */}
// //       <div className="absolute right-10 top-1/2 -translate-y-1/2 space-y-8 text-lg max-w-xs">
// //         {years.map((item, i) => (
// //           <div key={i} ref={el => textRefs.current[i] = el} className="opacity-0">
// //             <h3 className="text-xl font-bold">{item.year}</h3>
// //             <p className="text-neutral-300">{item.text}</p>
// //           </div>
// //         ))}
// //       </div>

// //       {/* SVG PATH (your exact provided one)*/}
// //       <svg ref={svgRef} width="800" height="100%" viewBox="0 0 1566 1895"
// //            className="w-[60vw]">
// //        <path ref={pathRef} d="M81.2882 358.5L77.9745 362.244L81.2882 358.5ZM1193.79 504.5L1198.66 503.371L1193.79 504.5ZM846.788 1031.5L849.081 1035.94L846.788 1031.5ZM1078.29 1557.5L1077.12 1552.64L1078.29 1557.5ZM1544.19 1894.74C1546.8 1895.62 1549.64 1894.22 1550.52 1891.6L1564.95 1848.98C1565.83 1846.36 1564.43 1843.52 1561.81 1842.64C1559.2 1841.75 1556.36 1843.16 1555.47 1845.77L1542.65 1883.66L1504.76 1870.84C1502.15 1869.96 1499.31 1871.36 1498.43 1873.98C1497.54 1876.59 1498.94 1879.43 1501.56 1880.31L1544.19 1894.74ZM41.788 17.5L37.231 15.4424C24.6743 43.2525 2.9872 101.461 0.279868 166.868C-2.43176 232.38 13.9108 305.549 77.9745 362.244L81.2882 358.5L84.6018 354.756C23.4655 300.651 7.64135 230.82 10.2713 167.282C12.9056 103.639 34.0684 46.7475 46.345 19.5576L41.788 17.5ZM81.2882 358.5L77.9745 362.244C157.196 432.354 245.168 462.017 343.237 460.562C441.102 459.11 548.829 426.677 667.842 373.059L665.788 368.5L663.734 363.941C545.247 417.323 438.974 449.14 343.089 450.563C247.408 451.983 161.88 423.146 84.6018 354.756L81.2882 358.5ZM665.788 368.5L667.842 373.059C786.048 319.804 903.967 298.22 998.401 317.332C1045.55 326.874 1086.77 346.54 1119.36 377.397C1151.94 408.243 1176.14 450.501 1188.92 505.629L1193.79 504.5L1198.66 503.371C1185.49 446.574 1160.41 402.494 1126.23 370.136C1092.07 337.789 1049.06 317.382 1000.38 307.531C903.165 287.855 783.028 310.196 663.734 363.941L665.788 368.5ZM1193.79 504.5L1188.92 505.629C1218.68 634.03 1168.13 746.014 1092.03 835.351C1015.9 924.725 914.629 990.863 844.495 1027.06L846.788 1031.5L849.081 1035.94C919.921 999.385 1022.4 932.523 1099.65 841.835C1176.93 751.11 1229.4 635.97 1198.66 503.371L1193.79 504.5ZM846.788 1031.5L844.495 1027.06C657.923 1123.34 592.946 1286.27 637.729 1411.49C682.622 1537.02 836.328 1620.94 1079.46 1562.36L1078.29 1557.5L1077.12 1552.64C836.738 1610.55 689.647 1526.97 647.145 1408.12C604.531 1288.97 665.559 1130.65 849.081 1035.94L846.788 1031.5ZM1078.29 1557.5L1079.46 1562.36C1175.63 1539.19 1249.53 1542.82 1306.98 1562.29C1364.4 1581.75 1405.83 1617.18 1436.82 1658.38C1467.86 1699.63 1488.4 1746.63 1503.96 1789.09C1511.75 1810.34 1518.24 1830.32 1524.22 1847.94C1530.16 1865.45 1535.64 1880.75 1541.31 1892.22L1545.79 1890L1550.27 1887.78C1544.94 1877 1539.66 1862.31 1533.69 1844.72C1527.76 1827.25 1521.19 1807.05 1513.35 1785.65C1497.67 1742.84 1476.72 1694.78 1444.81 1652.37C1412.86 1609.9 1369.88 1573.05 1310.19 1552.82C1250.54 1532.61 1174.65 1529.14 1077.12 1552.64L1078.29 1557.5Z" fill="#323232" fillOpacity="0.3"/>

// //         {[39.2882,213.288,1166.29,1013.29,640.288,1368.29].map((cx,i) => (
// //           <circle key={i}
// //             ref={el => circleRefs.current[i] = el}
// //             cx={cx} cy={[17.5,434.5,434.5,915.5,1400.5,1586.5][i]}
// //             r="17.5" fill="#fff"
// //           />
// //         ))}
// //       </svg>

// //     </section>
// //   );
// // }


// import { useEffect, useRef } from "react";
// import gsap from "gsap";
// import { ScrollTrigger } from "gsap/ScrollTrigger";
// import { MotionPathPlugin } from "gsap/MotionPathPlugin";
// gsap.registerPlugin(ScrollTrigger, MotionPathPlugin);

// export default function CareerJourney() {
//   const svgRef = useRef(null);
//   const pathRef = useRef(null);
//   const cursorRef = useRef(null);

//   const milestones = [
//     { label: "START — 2020", cx: 39.2882, cy: 17.5 },
//     { label: "2021", cx: 213.288, cy: 434.5 },
//     { label: "2022", cx: 1166.29, cy: 434.5 },
//     { label: "2023", cx: 1013.29, cy: 915.5 },
//     { label: "2024", cx: 640.288, cy: 1400.5 },
//     { label: "2025 — Current", cx: 1368.29, cy: 1586.5 }
//   ];

//   useEffect(() => {
//     const path = pathRef.current;
//     const totalLength = path.getTotalLength();

//     // reveal path using mask instead of strokeDash
//     gsap.fromTo(
//       path,
//       { strokeDasharray: totalLength, strokeDashoffset: totalLength },
//       {
//         strokeDashoffset: 0,
//         ease: "none",
//         scrollTrigger: {
//           trigger: svgRef.current,
//           start: "top bottom",
//           end: "bottom top",
//           scrub: true,
//         },
//       }
//     );

//     // move cursor along path
//     gsap.to(cursorRef.current, {
//       motionPath: {
//         path: path,
//         align: path,
//         autoRotate: true,
//       },
//       ease: "none",
//       scrollTrigger: {
//         trigger: svgRef.current,
//         start: "top bottom",
//         end: "bottom top",
//         scrub: true,
//       }
//     });
//   }, []);

//   return (
//     <section className="min-h-[350vh] w-full bg-[#0f0f0f] flex items-center justify-center py-[20vh]">

//       <svg ref={svgRef} viewBox="0 0 1200 2000" className="w-[70vw]">

//         {/* PATH (Reveals on scroll & cursor follows) */}
//         <path
//           ref={pathRef}
//           d="M81.2882 358.5L77.9745 362.244L81.2882 358.5ZM1193.79 504.5L1198.66 503.371L1193.79 504.5ZM846.788 1031.5L849.081 1035.94L846.788 1031.5ZM1078.29 1557.5L1077.12 1552.64L1078.29 1557.5ZM1544.19 1894.74C1546.8 1895.62 1549.64 1894.22 1550.52 1891.6L1564.95 1848.98C1565.83 1846.36 1564.43 1843.52 1561.81 1842.64C1559.2 1841.75 1556.36 1843.16 1555.47 1845.77L1542.65 1883.66L1504.76 1870.84C1502.15 1869.96 1499.31 1871.36 1498.43 1873.98C1497.54 1876.59 1498.94 1879.43 1501.56 1880.31L1544.19 1894.74ZM41.788 17.5L37.231 15.4424C24.6743 43.2525 2.9872 101.461 0.279868 166.868C-2.43176 232.38 13.9108 305.549 77.9745 362.244L81.2882 358.5L84.6018 354.756C23.4655 300.651 7.64135 230.82 10.2713 167.282C12.9056 103.639 34.0684 46.7475 46.345 19.5576L41.788 17.5ZM81.2882 358.5L77.9745 362.244C157.196 432.354 245.168 462.017 343.237 460.562C441.102 459.11 548.829 426.677 667.842 373.059L665.788 368.5L663.734 363.941C545.247 417.323 438.974 449.14 343.089 450.563C247.408 451.983 161.88 423.146 84.6018 354.756L81.2882 358.5ZM665.788 368.5L667.842 373.059C786.048 319.804 903.967 298.22 998.401 317.332C1045.55 326.874 1086.77 346.54 1119.36 377.397C1151.94 408.243 1176.14 450.501 1188.92 505.629L1193.79 504.5L1198.66 503.371C1185.49 446.574 1160.41 402.494 1126.23 370.136C1092.07 337.789 1049.06 317.382 1000.38 307.531C903.165 287.855 783.028 310.196 663.734 363.941L665.788 368.5ZM1193.79 504.5L1188.92 505.629C1218.68 634.03 1168.13 746.014 1092.03 835.351C1015.9 924.725 914.629 990.863 844.495 1027.06L846.788 1031.5L849.081 1035.94C919.921 999.385 1022.4 932.523 1099.65 841.835C1176.93 751.11 1229.4 635.97 1198.66 503.371L1193.79 504.5ZM846.788 1031.5L844.495 1027.06C657.923 1123.34 592.946 1286.27 637.729 1411.49C682.622 1537.02 836.328 1620.94 1079.46 1562.36L1078.29 1557.5L1077.12 1552.64C836.738 1610.55 689.647 1526.97 647.145 1408.12C604.531 1288.97 665.559 1130.65 849.081 1035.94L846.788 1031.5ZM1078.29 1557.5L1079.46 1562.36C1175.63 1539.19 1249.53 1542.82 1306.98 1562.29C1364.4 1581.75 1405.83 1617.18 1436.82 1658.38C1467.86 1699.63 1488.4 1746.63 1503.96 1789.09C1511.75 1810.34 1518.24 1830.32 1524.22 1847.94C1530.16 1865.45 1535.64 1880.75 1541.31 1892.22L1545.79 1890L1550.27 1887.78C1544.94 1877 1539.66 1862.31 1533.69 1844.72C1527.76 1827.25 1521.19 1807.05 1513.35 1785.65C1497.67 1742.84 1476.72 1694.78 1444.81 1652.37C1412.86 1609.9 1369.88 1573.05 1310.19 1552.82C1250.54 1532.61 1174.65 1529.14 1077.12 1552.64L1078.29 1557.5Z"
//           stroke="#fff"
//           strokeWidth="1"
//           fill="none"
//           strokeLinecap="round"
//         />

//         {/* Cursor mover — can replace with icon */}
//         {/* <circle ref={cursorRef} r="18" fill="#00f6ff" stroke="white" strokeWidth="4" /> */}

//         {/* Milestones & Text near circles */}
//         {milestones.map((m, i) => (
//           <>
//             <circle key={i} cx={m.cx} cy={m.cy} r="22" fill="white" strokeWidth="5" />
//             <text
//               x={m.cx + 40}
//               y={m.cy}
//               fill="white"
//               fontSize="30"
//               fontWeight="bold"
//               alignmentBaseline="middle"
//             >
//               {m.label}
//             </text>
//           </>
//         ))}
//       </svg>
//     </section>
//   );
// }


import { useEffect, useRef } from "react";
import gsap from "gsap";
import { ScrollTrigger } from "gsap/ScrollTrigger";
import { MotionPathPlugin } from "gsap/MotionPathPlugin";
gsap.registerPlugin(ScrollTrigger, MotionPathPlugin);

export default function CareerJourney() {
  const svgRef = useRef(null);
  const pathRef = useRef(null);
  const markerRef = useRef(null);

  const milestones = [
    { label: "2020", cx: 39.2882, cy: 17.5 },
    { label: "2021", cx: 213.288, cy: 434.5 },
    { label: "2022", cx: 1166.29, cy: 434.5 },
    { label: "2023", cx: 1013.29, cy: 915.5 },
    { label: "2024", cx: 640.288, cy: 1400.5 },
    { label: "2025", cx: 1368.29, cy: 1586.5 },
  ];

  useEffect(() => {
    const path = pathRef.current;
    const totalLength = path.getTotalLength();

    // 1. Animate path draw on scroll
    gsap.fromTo(
      path,
      { strokeDasharray: totalLength, strokeDashoffset: totalLength },
      {
        strokeDashoffset: 0,
        ease: "none",
        scrollTrigger: {
          trigger: svgRef.current,
          start: "top bottom",
          end: "bottom top",
          scrub: true,
        }
      }
    );

    // 2. Move marker along the path on same scroll
    gsap.to(markerRef.current, {
      motionPath: {
        path: path,
        align: path,
        autoRotate: true,
      },
      ease: "none",
      scrollTrigger: {
        trigger: svgRef.current,
        start: "top bottom",
        end: "bottom top",
        scrub: true,
      }
    });

  }, []);

  return (
    <section className="w-full bg-[#0c0c0c] flex justify-center py-20 min-h-[500vh]">
      <svg
        ref={svgRef}
        viewBox="0 0 1566 1895"
        width="80%"
        className="mx-auto"
      >
        {/* Path */}
        <path
          ref={pathRef}
          d={`M81.2882 358.5L77.9745 362.244L81.2882 358.5ZM1193.79 504.5L1198.66 503.371L1193.79 504.5ZM846.788 1031.5L849.081 1035.94L846.788 1031.5ZM1078.29 1557.5L1077.12 1552.64L1078.29 1557.5ZM1544.19 1894.74C1546.8 1895.62 1549.64 1894.22 1550.52 1891.6L1564.95 1848.98C1565.83 1846.36 1564.43 1843.52 1561.81 1842.64C1559.2 1841.75 1556.36 1843.16 1555.47 1845.77L1542.65 1883.66L1504.76 1870.84C1502.15 1869.96 1499.31 1871.36 1498.43 1873.98C1497.54 1876.59 1498.94 1879.43 1501.56 1880.31L1544.19 1894.74ZM41.788 17.5L37.231 15.4424C24.6743 43.2525 2.9872 101.461 0.279868 166.868C-2.43176 232.38 13.9108 305.549 77.9745 362.244L81.2882 358.5L84.6018 354.756C23.4655 300.651 7.64135 230.82 10.2713 167.282C12.9056 103.639 34.0684 46.7475 46.345 19.5576L41.788 17.5ZM81.2882 358.5L77.9745 362.244C157.196 432.354 245.168 462.017 343.237 460.562C441.102 459.11 548.829 426.677 667.842 373.059L665.788 368.5L663.734 363.941C545.247 417.323 438.974 449.14 343.089 450.563C247.408 451.983 161.88 423.146 84.6018 354.756L81.2882 358.5ZM665.788 368.5L667.842 373.059C786.048 319.804 903.967 298.22 998.401 317.332C1045.55 326.874 1086.77 346.54 1119.36 377.397C1151.94 408.243 1176.14 450.501 1188.92 505.629L1193.79 504.5L1198.66 503.371C1185.49 446.574 1160.41 402.494 1126.23 370.136C1092.07 337.789 1049.06 317.382 1000.38 307.531C903.165 287.855 783.028 310.196 663.734 363.941L665.788 368.5ZM1193.79 504.5L1188.92 505.629C1218.68 634.03 1168.13 746.014 1092.03 835.351C1015.9 924.725 914.629 990.863 844.495 1027.06L846.788 1031.5L849.081 1035.94C919.921 999.385 1022.4 932.523 1099.65 841.835C1176.93 751.11 1229.4 635.97 1198.66 503.371L1193.79 504.5ZM846.788 1031.5L844.495 1027.06C657.923 1123.34 592.946 1286.27 637.729 1411.49C682.622 1537.02 836.328 1620.94 1079.46 1562.36L1078.29 1557.5L1077.12 1552.64C836.738 1610.55 689.647 1526.97 647.145 1408.12C604.531 1288.97 665.559 1130.65 849.081 1035.94L846.788 1031.5ZM1078.29 1557.5L1079.46 1562.36C1175.63 1539.19 1249.53 1542.82 1306.98 1562.29C1364.4 1581.75 1405.83 1617.18 1436.82 1658.38C1467.86 1699.63 1488.4 1746.63 1503.96 1789.09C1511.75 1810.34 1518.24 1830.32 1524.22 1847.94C1530.16 1865.45 1535.64 1880.75 1541.31 1892.22L1545.79 1890L1550.27 1887.78C1544.94 1877 1539.66 1862.31 1533.69 1844.72C1527.76 1827.25 1521.19 1807.05 1513.35 1785.65C1497.67 1742.84 1476.72 1694.78 1444.81 1652.37C1412.86 1609.9 1369.88 1573.05 1310.19 1552.82C1250.54 1532.61 1174.65 1529.14 1077.12 1552.64L1078.29 1557.5Z`}
          stroke="#00F6FF"
          strokeWidth="6"
          fill="none"
          strokeLinecap="round"
        />

        {/* marker / traveler */}
        <circle ref={markerRef} r="18" fill="#00F6FF" stroke="white" strokeWidth="3" />

        {/* milestone circles + labels */}
        {milestones.map((m, i) => (
          <g key={i}>
            <circle cx={m.cx} cy={m.cy} r="22" fill="white" />
            <text
              x={m.cx + 40}
              y={m.cy}
              fontSize="28"
              fill="white"
              alignmentBaseline="middle"
            >
              {m.label}
            </text>
          </g>
        ))}
      </svg>
    </section>
  );
}
